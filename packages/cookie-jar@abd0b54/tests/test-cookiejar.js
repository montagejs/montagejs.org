function expires(e){return(new Date(Date.now()+e)).toUTCString()}var Cookie=require("../index"),Jar=Cookie.Jar,assert=require("assert");(function(){var e=new Jar,t=new Cookie("sid=1234; path=/; expires="+expires(1e3));e.add(t),setTimeout(function(){var n=e.get({url:"http://foo.com/foo"});assert.equal(n.length,1),assert.equal(n[0],t),setTimeout(function(){var t=e.get({url:"http://foo.com/foo"});assert.equal(t.length,0)},1e3)},5)})(),function(){var e=new Jar,t=new Cookie("sid=1234; path=/"),n=new Cookie("sid=1111; path=/foo/bar"),r=new Cookie("sid=2222; path=/");e.add(t),e.add(n),e.add(r),assert.equal(e.cookies.length,2);var i=e.get({url:"http://foo.com/"});assert.equal(i.length,1),assert.equal(i[0],r);var i=e.get({url:"http://foo.com/foo/bar"});assert.equal(i.length,1),assert.equal(i[0],n);var e=new Jar,t=new Cookie("sid=1111; path=/foo/bar"),n=new Cookie("sid=1234; path=/");e.add(t),e.add(n);var i=e.get({url:"http://foo.com/foo/bar"});assert.equal(i.length,1),assert.equal(i[0],t);var i=e.get({url:"http://foo.com/"});assert.equal(i.length,1),assert.equal(i[0],n);var e=new Jar,t=new Cookie("sid=1111; path=/foo/bar"),n=new Cookie("sid=3333; path=/foo/bar"),r=new Cookie("pid=3333; path=/foo/bar"),s=new Cookie("sid=2222; path=/foo/"),o=new Cookie("sid=1234; path=/");e.add(t),e.add(n),e.add(r),e.add(s),e.add(o);var i=e.get({url:"http://foo.com/foo/bar"});assert.equal(i.length,2),assert.equal(i[0],n),assert.equal(i[1],r);var i=e.get({url:"http://foo.com/foo/"});assert.equal(i.length,1),assert.equal(i[0],s);var i=e.get({url:"http://foo.com/"});assert.equal(i.length,1),assert.equal(i[0],o)}(),setTimeout(function(){console.log("All tests passed")},1200)